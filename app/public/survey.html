<!doctype html>
<html lang="en">
  <head>
    <title>Friend Finder</title>
         <!--Import Google Icon Font-->
         <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

         
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <!--CSS style sheet link-->
   <link rel="stylesheet" href="style.css">

   <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
   <!-- JS local files link -->
   <!-- <script src="../../server.js"></script> -->
  <!-- <script type="text/javascript" src="../data/friends.js"></script> -->
   <!-- <script type="text/javascript" src="../routing/htmlRoutes.js"></script>
   <script type="text/javascript" src="../routing/apiRoutes.js"></script>  -->
   
         

         <!--Let browser know website is optimized for mobile-->
         <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      </head>
  <body class="blue-grey darken-2">
      <div class="container">
        <div class="card blue-grey lighten-3">
            <div class="card-content">
                <h3>Friend Finder Questions</h3>
                    <div class="divider"></div>
                    <h5><b>About You</b></h5>
                
        <!-- FORMS -->
        <form onsubmit="return false">
                
          <div class="input-field">
            <i class="material-icons prefix">account_circle</i>
            <input type="text" id="name">
            <label class="active" for="name">Name (Required)</label>
          </div>
          <div class="input-field">
                <i class="material-icons prefix">add_a_photo</i>
                <input type="text" id="photo">
                <label class="active" for="photo">Link to Photo (Required)</label>
              </div>
              <div class="divider"></div>

            <div class="input-field col s12">
                   <h5><b>Question 1 </b><br><br>You are often driven by your emotions</h5>
                    <select id="Q1" class="choices">
                      <option value="" disabled selected>Choose your option</option>
                      <option value="1">1 (Strongly Disagree)</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5 (Strongly Agree)</option>  
                    </select> 
            </div>

            <div class="input-field col s12">
                    <h5><b>Question 2 </b><br><br>People would say that you have a wisdom of the ages</h5>
                     <select id="Q2" class="choices">
                       <option value="" disabled selected>Choose your option</option>
                       <option value="1">1 (Strongly Disagree)</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5 (Strongly Agree)</option>  
                     </select> 
             </div>

             <div class="input-field col s12">
                    <h5><b>Question 3 </b><br><br>Have you been described as "idealistic" and/or "naive"?</h5>
                     <select id="Q3">
                       <option value="" disabled selected>Choose your option</option>
                       <option value="1">1 (Strongly Disagree)</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5 (Strongly Agree)</option>  
                     </select> 
             </div>

             <div class="input-field col s12">
                    <h5><b>Question 4 </b><br><br>If making a good business deal leaves someone else the worse, hey it's just business.</h5>
                     <select id="Q4">
                       <option value="" disabled selected>Choose your option</option>
                       <option value="1">1 (Strongly Disagree)</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5 (Strongly Agree)</option>  
                     </select> 
             </div>

             <div class="input-field col s12">
                    <h5><b>Question 5 </b><br><br>Patience is the key to success</h5>
                     <select id="Q5" >
                       <option value="" disabled selected>Choose your option</option>
                       <option value="1">1 (Strongly Disagree)</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5 (Strongly Agree)</option>  
                     </select> 
             </div>

             <div class="input-field col s12">
                    <h5><b>Question 6 </b><br><br>You should be willing to sacrifice your personal gain for the good of others.</h5>
                     <select id="Q6">
                       <option value="" disabled selected>Choose your option</option>
                       <option value="1">1 (Strongly Disagree)</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5 (Strongly Agree)</option>  
                     </select> 
             </div>

             <div class="input-field col s12">
                    <h5><b>Question 7 </b><br><br>People have described you as a mercenary.</h5>
                     <select id="Q7">
                       <option value="" disabled selected>Choose your option</option>
                       <option value="1">1 (Strongly Disagree)</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5 (Strongly Agree)</option>  
                     </select> 
             </div>

             <div class="input-field col s12">
                    <h5><b>Question 8 </b><br><br>You have often found it advantagous to allow your negative feelings to sway your actions (anger/hatred/vengence).</h5>
                     <select id="Q8">
                       <option value="" disabled selected>Choose your option</option>
                       <option value="1">1 (Strongly Disagree)</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5 (Strongly Agree)</option>  
                     </select> 
             </div>

             <div class="input-field col s12">
                    <h5><b>Question 9 </b><br><br>Using your wits is the only way to survive.</h5>
                     <select id="Q9">
                       <option value="" disabled selected>Choose your option</option>
                       <option value="1">1 (Strongly Disagree)</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5 (Strongly Agree)</option>  
                     </select> 
             </div>

             <div class="input-field col s12">
                    <h5><b>Question 10 </b><br><br>The route to a better world may involve some 'collateral damage' but it's worth it.</h5>
                     <select id="Q10">
                       <option value="" disabled selected>Choose your option</option>
                       <option value="1">1 (Strongly Disagree)</option>
                       <option value="2">2</option>
                       <option value="3">3</option>
                       <option value="4">4</option>
                       <option value="5">5 (Strongly Agree)</option>  
                     </select> 
             </div>
             <!--Modal trigger and submit button-->
             <button data-target="modal1" class="btn waves-effect waves-light modal-trigger blue-grey" type="submit" name="action"  id="match">Submit
                    <i class="material-icons right">send</i>
                  </button>
          
        </div>
        
          
        

  <!-- Modal Structure -->
  <div id="modal1" class="modal">
        <div class="modal-content">
          <div id="MatchName" class="center-align"></div>
          <br>
          <div id="ImageDiv" class="center-align"></div>
        </div>
        <div class="modal-footer">
          <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
        </div>
      </div>



        </form>
            </div>
        </div>
    </div>
 
      <!--Import jQuery before materialize.js-->
     
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
      <script>

        
        $(document).ready(function(){
          // Init Carousel
          $('.carousel').carousel();

          // Init Carousel Slider
          $('.carousel.carousel-slider').carousel({fullWidth:true});

          $('select').formSelect();
         
          // Init Modal
          $('.modal').modal();

          var FinalAnswers = [];
        var FRIENDSARR = [
    {
        "name": "Leia Skywalker",
        "photo": "images/profile/leia.jpeg",
        "scores": [
            4,
            2,
            2,
            2,
            3,
            5,
            1,
            1,
            3,
            2
        ]
    },
    {
        "name": "Anakin Skywalker",
        "photo": "images/profile/anakin.jpeg",
        "scores": [
            5,
            2,
            2,
            4,
            2,
            1,
            1,
            5,
            3,
            5
        ]
    },
    {
        "name": "Lando Calrissian",
        "photo": "images/profile/lando.jpeg",
        "scores": [
            4,
            3,
            1,
            5,
            4,
            1,
            5,
            1,
            5,
            3
        ]
    },
    {
        "name": "Luke Skywalker",
        "photo": "images/profile/luke.jpeg",
        "scores": [
            4,
            1,
            5,
            1,
            3,
            5,
            1,
            1,
            1,
            1
        ]
    },
    {
        "name": "Han Solo",
        "photo": "images/profile/luke.jpeg",
        "scores": [
            3,
            3,
            1,
            5,
            3,
            2,
            5,
            2,
            5,
            2
        ]
    },
    {
        "name": "Yoda",
        "photo": "images/profile/yoda.jpeg",
        "scores": [
            1,
            5,
            1,
            1,
            5,
            5,
            1,
            1,
            1,
            1
        ]
    }

];
   


$("#match").on("click", function(event){
  
    
    for (var i = 1; i < 11; i++){
       FinalAnswers.push(parseInt($("#Q"+ i).val()));
        
    }
    console.log(FinalAnswers);  
  if (FinalAnswers.includes(NaN) || $("#name").val() === "" || $("#photo").val() === "" ){
      FinalAnswers = [];
      alert("Please Complete Questions");
  }
  else {
      Match();
  }
});

var sum = 0;
var comparison=[];
var FinalScore = [];
function Match(){
    for (var i = 0; i < FRIENDSARR.length; i++){
        comparison = FRIENDSARR[i].scores;
        console.log(comparison);
        for ( var j = 0; j < 10; j++){
            sum += Math.abs(comparison[j] - FinalAnswers[j]);
        
        }
      FinalScore.push(sum);
        sum = 0;  
    }

    console.log(FinalScore);
    showModal();
    
}

function showModal(){
   var MinScore = Math.min.apply(Math, FinalScore);
   console.log(MinScore);
   for (var i = 0; i < FinalScore.length; i++){
       if (MinScore === FinalScore[i]){
            console.log(FRIENDSARR[i]);
            $("#MatchName").html("<h4>"+ FRIENDSARR[i].name + "</h4>");
            $("#ImageDiv").html("<img src='" + FRIENDSARR[i].photo + "' >");
            break;
       }
   }
}

});
    
        




      </script>

        
          
      </script>
    </body>
</html>